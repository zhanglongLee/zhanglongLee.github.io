<!DOCTYPE html>
<!-- saved from url=(0026)http://39.108.127.167:666/ -->
<html lang="zh-CN"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Cache-Control" content="no-cache">
    <meta http-equiv="Expires" content="0">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>é€ƒå®</title>
    <link href="./css/bootstrap.min.css" rel="stylesheet">
    <link href="./css/bootstrap-datetimepicker.min.css" rel="stylesheet" media="screen">
    <link href="./css/taobao.css" rel="stylesheet">
    <script src="./js/jquery-3.3.1.min.js"></script>
    <script src="./js/jquery.cookie.js"></script>
    <script src="./js/bootstrap.min.js"></script>
    <script src="./js/bootstrap-datetimepicker.min.js"></script>
    <script src="./js/bootstrap-datetimepicker.zh-CN.js"></script>
    <script src="./js/common.js"></script>

</head>
<body class="modal-open">

<div class="panel-body container">

    <!-- æ ‡é¢˜ -->
    <div class="row title">
        <p class="col-xs-12">é€ƒâ€ƒå® <span class="version">V1.0.2</span></p>
    </div>

    <!-- è¡¨å• -->
    <form class="my-form" autocomplete="off">
        <label for="stuName" class="stu-info-label">å§“å</label>
        <input type="text" class="form-control stu-info-input ph-style" id="stuName" placeholder="è¯·è¾“å…¥å§“å">
        <label for="stuDept" class="stu-info-label">é™¢ç³»</label>
        <input type="text" class="form-control stu-info-input ph-style" id="stuDept" placeholder="è¯·è¾“å…¥é™¢ç³»">
        <label for="stuNum" class="stu-info-label">å­¦å·</label>
        <input type="text" class="form-control stu-info-input ph-style" id="stuNum" placeholder="è¯·è¾“å…¥å­¦å·">
        <label for="stuClass" class="stu-info-label">ç­çº§</label>
        <input type="text" class="form-control stu-info-input ph-style" id="stuClass" placeholder="è¯·è¾“å…¥ç­çº§">

        <div class="date-form-box">
            <span class="desc">è¯·å‡å¼€å§‹æ—¶é—´</span>
            <div class="input-group date">
                <input id="startTime" class="form-control ph-style" type="text" placeholder="é€‰æ‹©è¯·å‡å¼€å§‹æ—¶é—´" readonly="">
                <span class="input-group-addon">
                        <span class="glyphicon glyphicon-th"></span>
                    </span>
            </div>
        </div>

        <div class="date-form-box">
            <span class="desc">è¯·å‡ç»“æŸæ—¶é—´</span>
            <div class="input-group date">
                <input id="endTime" class="form-control ph-style" type="text" placeholder="é€‰æ‹©è¯·å‡ç»“æŸæ—¶é—´" readonly="">
                <span class="input-group-addon">
                        <span class="glyphicon glyphicon-th"></span>
                    </span>
            </div>
        </div>

        <div class="status-box">
            <span>å‡­è¯ç±»å‹â€ƒ</span>
            <button id="leave">ç¦»æ ¡</button>
            <span>&nbsp;</span>
            <button id="enter" class="status-active">è¿›æ ¡</button>
            <span>&nbsp;</span>
            <button id="overtime">é€¾æœŸ</button>
        </div>

    </form>

    <div class="my-button">
        <button type="button" id="removeInfo" class="remove-info btn">æ¸…ç©ºä¿¡æ¯</button>
        <button type="button" id="createPass" class="create-pass btn">ç”Ÿæˆå‡­è¯</button>
    </div>

</div>

<div class="tips">
    <span class="tips-author">ä½¿ç”¨ â€œé€ƒå®â€ å‡ºç°ä»»ä½•é—®é¢˜æ¦‚ä¸è´Ÿè´£ :)â€ƒâ€ƒTer.</span>
</div>

<!-- æ¨¡æ€æ¡† -->
<div class="modal fade in" id="my-modal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true" data-backdrop="false" style="display: block;">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title" id="myModalLabel">ã€Šé‡è¦é€šçŸ¥ã€‹</h3>
            </div>
            <div id="tips" class="modal-body">ğŸ”´ Recently,â€œé€ƒå®â€ çš„ä½¿ç”¨æµé‡suddenly increaseï¼Œå‡ºäºç–«æƒ…ç°å†µå»ºè®®å¤§å®¶æ²¡40000000åˆ«å‡ºæ ¡é—¨â— â— â—ğŸš« å®åœ¨è¦å‡ºé—¨ä½†ä½ è§‰å¾—é‚£å•¥ä¸æ‰¹çš„è¯æ‰ç”¨é€ƒå®ã€‚â˜…æ­£ç¡®çš„ä½¿ç”¨å§¿åŠ¿å»ºè®®æ˜¯è¿™æ ·çš„ï¼šâ˜›ä½ ğŸ‰ å…ˆä¿å­˜å·¦ä¸‹è§’é‚£ä¸ªçº¢è‰²çš„äºŒç»´ç â–“ï¼Œç„¶ååœ¨è¿›å‡ºæ ¡ä¹‹å‰é¢„å…ˆå½•å…¥ â€œæ°å½“â€ğŸ¤” çš„ä¸ªäººä¿¡æ¯ï¼Œæœ€åé€šè¿‡æ ¡é—¨ä½ å°±è£…ä¸ªæ ·å­ğŸ¤ª æ‰«ä½ ä¿å­˜çš„äºŒç»´ç å°±ğŸ‰‘ è¿›å…¥å‡­è¯é¡µé¢äº†âœ” (äºŒç»´ç ä¿å­˜ä¸€æ¬¡å°±è¡Œï¼Œä¸ä¼šå˜çš„) ã€‚è¿™ç§å§¿åŠ¿æœ€ä¸ºä¿å®ˆå®‰å…¨å™¢ğŸ¤£ æœ€åè¿˜æ˜¯å¾ˆä¸è´Ÿè´£ä»»çš„å‘Šè¯‰ä½ ğŸ˜… å‡ºç°ä»»ä½•é—®é¢˜å…¨ç”±ä½ è‡ªå·±è´Ÿè´£~~ ğŸ˜ ï½ï½  â¤ï¸ âœ”ï¸ â€”â€”  ğŸ’” âœ–ï¸ â€”â€”ğŸ’¬ğŸ”¹  </div>
            <div class="modal-footer">
                <img class="qr-code-pass" src="./img/QR_code_pass.png" alt="" draggable="false">
                <span>é•¿æŒ‰ä¿å­˜åˆ°æ‰‹æœº</span>
                <button type="button" class="close-btn" id="closeBtn">æœ•å·²é˜…</button>
            </div>
        </div>
    </div>
</div>



<div class="datetimepicker datetimepicker-dropdown-bottom-left dropdown-menu" style="left: 155px; z-index: 1060;"><div class="datetimepicker-minutes" style="display: none;"><table class=" table-condensed"><thead><tr><th class="prev" style="visibility: visible;"><span class="glyphicon glyphicon-arrow-left"></span> </th><th colspan="5" class="switch">21 å…­æœˆ 2021</th><th class="next" style="visibility: visible;"><span class="glyphicon glyphicon-arrow-right"></span> </th></tr></thead><tbody><tr><td colspan="7"><span class="minute">11:00</span><span class="minute">11:05</span><span class="minute">11:10</span><span class="minute">11:15</span><span class="minute active">11:20</span><span class="minute">11:25</span><span class="minute">11:30</span><span class="minute">11:35</span><span class="minute">11:40</span><span class="minute">11:45</span><span class="minute">11:50</span><span class="minute">11:55</span></td></tr></tbody><tfoot><tr><th colspan="7" class="today" style="display: none;">ä»Šå¤©</th></tr><tr><th colspan="7" class="clear" style="display: none;">Clear</th></tr></tfoot></table></div><div class="datetimepicker-hours" style="display: none;"><table class=" table-condensed"><thead><tr><th class="prev" style="visibility: visible;"><span class="glyphicon glyphicon-arrow-left"></span> </th><th colspan="5" class="switch">21 å…­æœˆ 2021</th><th class="next" style="visibility: visible;"><span class="glyphicon glyphicon-arrow-right"></span> </th></tr></thead><tbody><tr><td colspan="7"><span class="hour">0:00</span><span class="hour">1:00</span><span class="hour">2:00</span><span class="hour">3:00</span><span class="hour">4:00</span><span class="hour">5:00</span><span class="hour">6:00</span><span class="hour">7:00</span><span class="hour">8:00</span><span class="hour">9:00</span><span class="hour">10:00</span><span class="hour active">11:00</span><span class="hour">12:00</span><span class="hour">13:00</span><span class="hour">14:00</span><span class="hour">15:00</span><span class="hour">16:00</span><span class="hour">17:00</span><span class="hour">18:00</span><span class="hour">19:00</span><span class="hour">20:00</span><span class="hour">21:00</span><span class="hour">22:00</span><span class="hour">23:00</span></td></tr></tbody><tfoot><tr><th colspan="7" class="today" style="display: none;">ä»Šå¤©</th></tr><tr><th colspan="7" class="clear" style="display: none;">Clear</th></tr></tfoot></table></div><div class="datetimepicker-days" style="display: block;"><table class=" table-condensed"><thead><tr><th class="prev" style="visibility: visible;"><span class="glyphicon glyphicon-arrow-left"></span> </th><th colspan="5" class="switch">å…­æœˆ 2021</th><th class="next" style="visibility: visible;"><span class="glyphicon glyphicon-arrow-right"></span> </th></tr><tr><th class="dow">æ—¥</th><th class="dow">ä¸€</th><th class="dow">äºŒ</th><th class="dow">ä¸‰</th><th class="dow">å››</th><th class="dow">äº”</th><th class="dow">å…­</th></tr></thead><tbody><tr><td class="day old">30</td><td class="day old">31</td><td class="day">1</td><td class="day">2</td><td class="day">3</td><td class="day">4</td><td class="day">5</td></tr><tr><td class="day">6</td><td class="day">7</td><td class="day">8</td><td class="day">9</td><td class="day">10</td><td class="day">11</td><td class="day">12</td></tr><tr><td class="day">13</td><td class="day">14</td><td class="day">15</td><td class="day">16</td><td class="day">17</td><td class="day">18</td><td class="day">19</td></tr><tr><td class="day">20</td><td class="day active">21</td><td class="day">22</td><td class="day">23</td><td class="day">24</td><td class="day">25</td><td class="day">26</td></tr><tr><td class="day">27</td><td class="day">28</td><td class="day">29</td><td class="day">30</td><td class="day new">1</td><td class="day new">2</td><td class="day new">3</td></tr><tr><td class="day new">4</td><td class="day new">5</td><td class="day new">6</td><td class="day new">7</td><td class="day new">8</td><td class="day new">9</td><td class="day new">10</td></tr></tbody><tfoot><tr><th colspan="7" class="today" style="display: none;">ä»Šå¤©</th></tr><tr><th colspan="7" class="clear" style="display: none;">Clear</th></tr></tfoot></table></div><div class="datetimepicker-months" style="display: none;"><table class="table-condensed"><thead><tr><th class="prev" style="visibility: visible;"><span class="glyphicon glyphicon-arrow-left"></span> </th><th colspan="5" class="switch">2021</th><th class="next" style="visibility: visible;"><span class="glyphicon glyphicon-arrow-right"></span> </th></tr></thead><tbody><tr><td colspan="7"><span class="month">ä¸€æœˆ</span><span class="month">äºŒæœˆ</span><span class="month">ä¸‰æœˆ</span><span class="month">å››æœˆ</span><span class="month">äº”æœˆ</span><span class="month active">å…­æœˆ</span><span class="month">ä¸ƒæœˆ</span><span class="month">å…«æœˆ</span><span class="month">ä¹æœˆ</span><span class="month">åæœˆ</span><span class="month">åä¸€æœˆ</span><span class="month">åäºŒæœˆ</span></td></tr></tbody><tfoot><tr><th colspan="7" class="today" style="display: none;">ä»Šå¤©</th></tr><tr><th colspan="7" class="clear" style="display: none;">Clear</th></tr></tfoot></table></div><div class="datetimepicker-years" style="display: none;"><table class="table-condensed"><thead><tr><th class="prev" style="visibility: visible;"><span class="glyphicon glyphicon-arrow-left"></span> </th><th colspan="5" class="switch">2020-2029</th><th class="next" style="visibility: visible;"><span class="glyphicon glyphicon-arrow-right"></span> </th></tr></thead><tbody><tr><td colspan="7"><span class="year ">2019</span><span class="year">2020</span><span class="year active">2021</span><span class="year">2022</span><span class="year">2023</span><span class="year">2024</span><span class="year">2025</span><span class="year">2026</span><span class="year">2027</span><span class="year">2028</span><span class="year">2029</span><span class="year ">2030</span></td></tr></tbody><tfoot><tr><th colspan="7" class="today" style="display: none;">ä»Šå¤©</th></tr><tr><th colspan="7" class="clear" style="display: none;">Clear</th></tr></tfoot></table></div></div><div class="datetimepicker datetimepicker-dropdown-bottom-left dropdown-menu" style="left: 155px; z-index: 1070;"><div class="datetimepicker-minutes" style="display: none;"><table class=" table-condensed"><thead><tr><th class="prev" style="visibility: visible;"><span class="glyphicon glyphicon-arrow-left"></span> </th><th colspan="5" class="switch">21 å…­æœˆ 2021</th><th class="next" style="visibility: visible;"><span class="glyphicon glyphicon-arrow-right"></span> </th></tr></thead><tbody><tr><td colspan="7"><span class="minute">11:00</span><span class="minute">11:05</span><span class="minute">11:10</span><span class="minute">11:15</span><span class="minute active">11:20</span><span class="minute">11:25</span><span class="minute">11:30</span><span class="minute">11:35</span><span class="minute">11:40</span><span class="minute">11:45</span><span class="minute">11:50</span><span class="minute">11:55</span></td></tr></tbody><tfoot><tr><th colspan="7" class="today" style="display: none;">ä»Šå¤©</th></tr><tr><th colspan="7" class="clear" style="display: none;">Clear</th></tr></tfoot></table></div><div class="datetimepicker-hours" style="display: none;"><table class=" table-condensed"><thead><tr><th class="prev" style="visibility: visible;"><span class="glyphicon glyphicon-arrow-left"></span> </th><th colspan="5" class="switch">21 å…­æœˆ 2021</th><th class="next" style="visibility: visible;"><span class="glyphicon glyphicon-arrow-right"></span> </th></tr></thead><tbody><tr><td colspan="7"><span class="hour">0:00</span><span class="hour">1:00</span><span class="hour">2:00</span><span class="hour">3:00</span><span class="hour">4:00</span><span class="hour">5:00</span><span class="hour">6:00</span><span class="hour">7:00</span><span class="hour">8:00</span><span class="hour">9:00</span><span class="hour">10:00</span><span class="hour active">11:00</span><span class="hour">12:00</span><span class="hour">13:00</span><span class="hour">14:00</span><span class="hour">15:00</span><span class="hour">16:00</span><span class="hour">17:00</span><span class="hour">18:00</span><span class="hour">19:00</span><span class="hour">20:00</span><span class="hour">21:00</span><span class="hour">22:00</span><span class="hour">23:00</span></td></tr></tbody><tfoot><tr><th colspan="7" class="today" style="display: none;">ä»Šå¤©</th></tr><tr><th colspan="7" class="clear" style="display: none;">Clear</th></tr></tfoot></table></div><div class="datetimepicker-days" style="display: block;"><table class=" table-condensed"><thead><tr><th class="prev" style="visibility: visible;"><span class="glyphicon glyphicon-arrow-left"></span> </th><th colspan="5" class="switch">å…­æœˆ 2021</th><th class="next" style="visibility: visible;"><span class="glyphicon glyphicon-arrow-right"></span> </th></tr><tr><th class="dow">æ—¥</th><th class="dow">ä¸€</th><th class="dow">äºŒ</th><th class="dow">ä¸‰</th><th class="dow">å››</th><th class="dow">äº”</th><th class="dow">å…­</th></tr></thead><tbody><tr><td class="day old">30</td><td class="day old">31</td><td class="day">1</td><td class="day">2</td><td class="day">3</td><td class="day">4</td><td class="day">5</td></tr><tr><td class="day">6</td><td class="day">7</td><td class="day">8</td><td class="day">9</td><td class="day">10</td><td class="day">11</td><td class="day">12</td></tr><tr><td class="day">13</td><td class="day">14</td><td class="day">15</td><td class="day">16</td><td class="day">17</td><td class="day">18</td><td class="day">19</td></tr><tr><td class="day">20</td><td class="day active">21</td><td class="day">22</td><td class="day">23</td><td class="day">24</td><td class="day">25</td><td class="day">26</td></tr><tr><td class="day">27</td><td class="day">28</td><td class="day">29</td><td class="day">30</td><td class="day new">1</td><td class="day new">2</td><td class="day new">3</td></tr><tr><td class="day new">4</td><td class="day new">5</td><td class="day new">6</td><td class="day new">7</td><td class="day new">8</td><td class="day new">9</td><td class="day new">10</td></tr></tbody><tfoot><tr><th colspan="7" class="today" style="display: none;">ä»Šå¤©</th></tr><tr><th colspan="7" class="clear" style="display: none;">Clear</th></tr></tfoot></table></div><div class="datetimepicker-months" style="display: none;"><table class="table-condensed"><thead><tr><th class="prev" style="visibility: visible;"><span class="glyphicon glyphicon-arrow-left"></span> </th><th colspan="5" class="switch">2021</th><th class="next" style="visibility: visible;"><span class="glyphicon glyphicon-arrow-right"></span> </th></tr></thead><tbody><tr><td colspan="7"><span class="month">ä¸€æœˆ</span><span class="month">äºŒæœˆ</span><span class="month">ä¸‰æœˆ</span><span class="month">å››æœˆ</span><span class="month">äº”æœˆ</span><span class="month active">å…­æœˆ</span><span class="month">ä¸ƒæœˆ</span><span class="month">å…«æœˆ</span><span class="month">ä¹æœˆ</span><span class="month">åæœˆ</span><span class="month">åä¸€æœˆ</span><span class="month">åäºŒæœˆ</span></td></tr></tbody><tfoot><tr><th colspan="7" class="today" style="display: none;">ä»Šå¤©</th></tr><tr><th colspan="7" class="clear" style="display: none;">Clear</th></tr></tfoot></table></div><div class="datetimepicker-years" style="display: none;"><table class="table-condensed"><thead><tr><th class="prev" style="visibility: visible;"><span class="glyphicon glyphicon-arrow-left"></span> </th><th colspan="5" class="switch">2020-2029</th><th class="next" style="visibility: visible;"><span class="glyphicon glyphicon-arrow-right"></span> </th></tr></thead><tbody><tr><td colspan="7"><span class="year ">2019</span><span class="year">2020</span><span class="year active">2021</span><span class="year">2022</span><span class="year">2023</span><span class="year">2024</span><span class="year">2025</span><span class="year">2026</span><span class="year">2027</span><span class="year">2028</span><span class="year">2029</span><span class="year ">2030</span></td></tr></tbody><tfoot><tr><th colspan="7" class="today" style="display: none;">ä»Šå¤©</th></tr><tr><th colspan="7" class="clear" style="display: none;">Clear</th></tr></tfoot></table></div></div>

<script>
    $(function () {
        //åŠ è½½æ¨¡æ€æ¡†
        showModal();
        //åˆå§‹åŒ–æ—¥æœŸè¡¨å•
        initDateForm();
        //å›æ˜¾ä¿¡æ¯
        echoInfo();
        //ç”Ÿæˆå‡­è¯
        createPass();
        //æ¸…ç©ºä¿¡æ¯
        removeInfo();
        //çŠ¶æ€æ§åˆ¶å™¨
        statusController();
        $('#closeBtn').click(()=>{
            $('#my-modal').css('display','none')
        })
    });

    //åŠ è½½æ¨¡æ€æ¡†
    function showModal() {
        $("#my-modal").modal("show");
    }


    //åˆå§‹åŒ–æ—¥æœŸè¡¨å•
    function initDateForm() {
        $('.date-form-box .date').datetimepicker({
            language: "zh-CN",                  //ä»¥ä¸­æ–‡æ˜¾ç¤º
            autoclose: true,                    //é€‰æ‹©å®Œæ¯•åè‡ªåŠ¨å…³é—­é€‰æ‹©å™¨
            pickerPosition: "bottom-left",      //é€‰æ‹©å™¨æ˜¾ç¤ºä½ç½®
            format: "yyyy-mm-dd hh:00",         //æ—¥æœŸæ ¼å¼
            startView: "month",                 //åˆå§‹æ—¥æœŸä»æœˆå¼€å§‹
            minView: "day"                      //æœ€ç²¾ç¡®è§†å›¾ä¸ºæ—¥
        });
    }

    //å›æ˜¾ä¿¡æ¯
    function echoInfo() {
        let defaultData = {
            endTime: "" ,
            startTime: "",
            statusType: "è¿›æ ¡",
            stuClass: "17ç½‘ç»œå·¥ç¨‹",
            stuDept: "è®¡ç®—æœºå­¦é™¢",
            stuName: "",
            stuNum: "175511170"
        };
        let data = localStorage.getItem('passData')&&JSON.parse(localStorage.getItem('passData')) || defaultData
        $("#stuName").val(data.stuName);
        $("#stuDept").val(data.stuDept);
        $("#stuNum").val(data.stuNum);
        $("#stuClass").val(data.stuClass);
        $("#startTime").val(data.startTime);
        $("#endTime").val(data.endTime);
        $(`#${data.statusType}`).addClass('status-active')
    }

    //ç”Ÿæˆå‡­è¯
    function createPass() {
        $("#createPass").click(function () {
            let statusType = "æœªé€‰æ‹©å‡­è¯ç±»å‹"
            if ($("#leave").hasClass("status-active")) {
                statusType = "ç¦»æ ¡"
            } else if ($("#enter").hasClass("status-active")) {
                statusType = "è¿›æ ¡"
            } else if ($("#overtime").hasClass("status-active")) {
                statusType = "é€¾æœŸ"
            }
            let data = {
                "stuName": $("#stuName").val(),
                "stuDept": $("#stuDept").val(),
                "stuNum": $("#stuNum").val(),
                "stuClass": $("#stuClass").val(),
                "statusType": statusType,
                "startTime":$("#startTime").val(),
                "endTime":$("#endTime").val()
            }
            localStorage.setItem('passData',JSON.stringify(data))
            location.href = "./pass.html";
        });
    }

    //æ¸…ç©ºä¿¡æ¯
    function removeInfo() {
        $("#removeInfo").click(function () {
            //æ¸…é™¤è¡¨å•ä¿¡æ¯
            $("#stuName").val("")
            $("#stuDept").val("")
            $("#stuNum").val("")
            $("#stuClass").val("")
            $("#startTime").val("")
            $("#endTime").val("")
            localStorage.removeItem('passData')
            //å»é™¤çŠ¶æ€
            $("#leave, #enter, #overtime").removeClass("status-active");
        });
    }

    //çŠ¶æ€æ§åˆ¶å™¨
    function statusController() {
        $("#leave").click(function () {
            if ($(this).hasClass("status-active")) {
                $(this).removeClass("status-active");
            } else {
                $("#enter").removeClass("status-active");
                $("#overtime").removeClass("status-active");
                $(this).addClass("status-active");
            }
            return false;
        });
        $("#enter").click(function () {
            if ($(this).hasClass("status-active")) {
                $(this).removeClass("status-active");
            } else {
                $("#leave").removeClass("status-active");
                $("#overtime").removeClass("status-active");
                $(this).addClass("status-active");
            }
            return false;
        });
        $("#overtime").click(function () {
            if ($(this).hasClass("status-active")) {
                $(this).removeClass("status-active");
            } else {
                $("#leave").removeClass("status-active");
                $("#enter").removeClass("status-active");
                $(this).addClass("status-active");
            }
            return false;
        });
    }

</script>
</body>
</html>